<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×©××œ ××ª ×”××¢×¨×›×ª AI </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ai.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>×©××œ ××ª ×”××¢×¨×›×ª AI </h1>
            <p>×©××œ ×©××œ×•×ª ×¢×œ × ×ª×•× ×™ ×”×™×™×¦×•×¨, ×”×œ×§×•×—×•×ª ×•×”×¡×˜×˜×™×¡×˜×™×§×•×ª</p>
        </div>
        
        <div class="content">
            <a href="/main-dashboard" class="back-link">â† ×—×–×•×¨ ×œ×“×©×‘×•×¨×“ ×”×¨××©×™</a>
            
            <form method="POST" id="aiForm">
                <div class="form-container">
                    <div class="form-group">
                        <label for="question">×©××œ×”:</label>
                        <textarea 
                            name="question" 
                            id="question" 
                            class="question-input"
                            placeholder="×œ×“×•×’××”: ×›××” ×”×–×× ×•×ª ×™×¢×“×™×¤×•×ª ×’×‘×•×”×” ×™×© ×œ× ×• ×”×©×‘×•×¢? ××™ ×”×œ×§×•×— ×”×›×™ ×¤×¢×™×œ? ××” ×”×¡×˜×˜×™×¡×˜×™×§×•×ª ×©×œ ×”××¢×¨×›×ª?"
                            required
                        >{{ request.form.get('question', '') }}</textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span>ğŸš€</span>
                        <span>×©×œ×— ×©××œ×”</span>
                    </button>
                </div>
                
                <div class="suggestions">
                    <h3>×“×•×’×××•×ª ×œ×©××œ×•×ª:</h3>
                    <div class="suggestion-buttons">
                        <button type="button" class="suggestion-btn" onclick="setQuestion('××”×Ÿ ×”×¡×˜×˜×™×¡×˜×™×§×•×ª ×©×œ ×”××¢×¨×›×ª?')">
                           ×¡×˜×˜×™×¡×˜×™×§×” ×©×œ ×ª×•×›× ×™×•×ª ×¤×¢×™×œ×•×ª
                        </button>
                        <button type="button" class="suggestion-btn" onclick="setQuestion('×ª×× ×” ×œ×™ ×œ×¤×™ ×—×œ×•×§×” ×©×œ ×¢×“×™×¤×•×ª ×’×‘×•×”×”, ×‘×™× ×•× ×™×ª, × ××•×›×”')">
                          ×¡×“×¨ ×¢×“×™×¤×•×™×•×ª
                        </button>
                        <button type="button" class="suggestion-btn" onclick="setQuestion('××™ ×”× ×”×œ×§×•×—×•×ª ×”××•×‘×™×œ×™×? ')">
                            ×œ×§×•×—×•×ª ××•×‘×™×œ×™×
                        </button>
                        <button type="button" class="suggestion-btn" onclick="setQuestion(' ××”× ×”×ª×•×›× ×™×•×ª ×”×¤×¢×™×œ×•×ª ×›×¢×ª?')">
                            ×ª×•×›× ×™×•×ª ×¤×¢×™×œ×•×ª
                        </button>
                    </div>
                </div>
            </form>
            
            <div class="loading-spinner" id="loadingSpinner">
                <div class="spinner"></div>
                <p>××¢×‘×“ ××ª ×”×©××œ×” ×©×œ×š...</p>
            </div>
            
            {% if error %}
                <div class="error-section">
                    <span style="font-size: 1.5rem;">âŒ</span>
                    <div>
                        <strong>×©×’×™××”:</strong> {{ error }}
                    </div>
                </div>
            {% endif %}
            
            {% if answer %}
                <div class="answer-section">
                    <div class="answer-header">
                        <span style="font-size: 1.5rem;">ğŸ¤–</span>
                        <h3>×ª×©×•×‘×ª ×”××¢×¨×›×ª AI :</h3>
                    </div>
                    <div class="answer-content">{{ answer }}</div>
                </div>
            {% endif %}
        </div>
    </div>
    
    <script>
        function setQuestion(text) {
            document.getElementById('question').value = text;
        }
        
        document.getElementById('aiForm').addEventListener('submit', function() {
            const btn = document.getElementById('submitBtn');
            const spinner = document.getElementById('loadingSpinner');
            
            btn.disabled = true;
            btn.innerHTML = '<span>â³</span><span>××¢×‘×“...</span>';
            spinner.style.display = 'block';
        });
        
        // ×”×ª××§×“×•×ª ××•×˜×•××˜×™×ª ×‘×©×“×” ×”×©××œ×”
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('question').focus();
        });
    </script>
</body>
</html>